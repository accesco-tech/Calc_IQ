<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Monthly Budget AI | Accesco</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,sans-serif}

    body{
      margin:0;
      background:linear-gradient(135deg,#faf7fb,#f5f3f7);
      color:#1f2937;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:24px 48px;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:12px;
    }

    .brand img{
      width:44px;
      height:44px;
    }

    .brand h1{
      margin:0;
      font-size:22px;
      color:#700457;
    }

    .brand p{
      margin:0;
      font-size:13px;
      color:#6b7280;
    }

    .region{
      text-align:right;
      font-size:13px;
      color:#6b7280;
    }

    .region b{
      color:#700457;
      font-weight:600;
    }

    main{
      padding:40px 48px;
    }

    .layout{
      display:grid;
      grid-template-columns:360px 1fr;
      gap:40px;
      align-items:start;
    }

    .card{
      background:#fff;
      border-radius:18px;
      padding:28px;
      box-shadow:0 18px 40px rgba(0,0,0,.08);
    }

    .step{
      display:inline-block;
      font-size:12px;
      font-weight:600;
      color:#700457;
      background:#f7eef4;
      padding:6px 14px;
      border-radius:999px;
      margin-bottom:10px;
    }

    h2{
      margin:6px 0 20px;
      font-size:22px;
    }

    label{
      display:block;
      font-size:14px;
      font-weight:600;
      margin:14px 0 6px;
    }

    input{
      width:100%;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid #e5e7eb;
      font-size:15px;
      outline:none;
    }

    button{
      margin-top:22px;
      width:100%;
      padding:14px;
      border-radius:14px;
      border:none;
      background:#700457;
      color:#fff;
      font-size:16px;
      font-weight:600;
      cursor:pointer;
    }

    /* RIGHT SIDE */
    .summary{
      display:flex;
      gap:18px;
      margin-bottom:24px;
    }

    .pill{
      flex:1;
      background:#faf5f8;
      border-radius:14px;
      padding:16px;
      text-align:center;
    }

    .pill span{
      display:block;
      font-size:12px;
      color:#6b7280;
      margin-bottom:6px;
      font-weight:600;
    }

    .pill b{
      font-size:20px;
      color:#700457;
    }

    .analysis-grid{
      display:grid;
      grid-template-columns:260px 1fr;
      gap:36px;
      align-items:center;
    }

    /* ðŸ”’ FIXED CHART SIZE */
    .chart-wrap{
      width:260px;
      height:260px;
      margin:auto;
    }

    .details{
      font-size:14px;
    }

    .row{
      display:flex;
      justify-content:space-between;
      padding:10px 0;
      border-bottom:1px solid #f1f1f1;
    }

    .row:last-child{border-bottom:none}

    .row b{
      color:#700457;
      font-weight:600;
    }
  </style>
</head>

<body>

<header>
  <div class="brand">
    <img src="/static/accesco_original.png" alt="Accesco AI">
    <div>
      <h1>Accesco AI</h1>
      <p>Smart Financial Planning</p>
    </div>
  </div>

  <div class="region">
    <b>INDIA</b><br>
    Version 2.0
  </div>
</header>

<main>
  <div class="layout">

    <!-- LEFT -->
    <div class="card">
      <span class="step">STEP 1: INPUT</span>
      <h2>Enter Details</h2>

      <label>Monthly Income</label>
      <input id="income" value="50000">

      <label>Rent / EMI</label>
      <input id="rent" value="15000">

      <label>City Cost Index (1.0 = Avg)</label>
      <input id="cost" value="1.0">

      <label>Family Members</label>
      <input id="family" value="1">

      <button onclick="generate()">Generate Prediction</button>
    </div>

    <!-- RIGHT -->
    <div class="card">
      <span class="step">STEP 2: ANALYSIS</span>
      <h2>Your AI Budget</h2>

      <div class="summary">
        <div class="pill">
          <span>NEEDS</span>
          <b id="needs">â‚¹0</b>
        </div>
        <div class="pill">
          <span>WANTS</span>
          <b id="wants">â‚¹0</b>
        </div>
        <div class="pill">
          <span>SAVINGS</span>
          <b id="savings">â‚¹0</b>
        </div>
      </div>

      <div class="analysis-grid">
        <div class="chart-wrap">
          <canvas id="chart"></canvas>
        </div>

        <div class="details" id="breakdown"></div>
      </div>
    </div>

  </div>
</main>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
let chart = null;

function inr(v){
  return "â‚¹" + Math.round(v).toLocaleString("en-IN");
}

function generate(){
  const income = Number(document.getElementById("income").value);
  const rent = Number(document.getElementById("rent").value);
  const costIndex = Number(document.getElementById("cost").value || 1);
  const family = Number(document.getElementById("family").value || 1);

  if (!income || income <= 0) {
    alert("Please enter a valid income");
    return;
  }

  /* ===== MAIN BUDGET ===== */
  let needs = income * 0.56;
  let wants = income * 0.28;
  let savings = income * 0.16;

  needs += rent * 0.2;
  needs *= costIndex;
  needs *= (1 + (family - 1) * 0.1);

  const total = needs + wants + savings;
  const scale = income / total;

  needs *= scale;
  wants *= scale;
  savings *= scale;

  /* ===== CATEGORY SPLITS ===== */
  const grocery = needs * 0.40;
  const healthcare = needs * 0.20;
  const transport = needs * 0.25;
  const education = needs * 0.15;

  const entertainment = wants;
  const emergencyFund = savings * 0.70;
  const pureSavings = savings * 0.30;

  /* ===== UPDATE SUMMARY ===== */
  document.getElementById("needs").innerText = inr(needs);
  document.getElementById("wants").innerText = inr(wants);
  document.getElementById("savings").innerText = inr(savings);

  /* ===== UPDATE BREAKDOWN LIST ===== */
  const breakdown = document.getElementById("breakdown");
  breakdown.innerHTML = `
    <div class="row"><span>Grocery & Essentials</span><b>${inr(grocery)}</b></div>
    <div class="row"><span>Education</span><b>${inr(education)}</b></div>
    <div class="row"><span>Healthcare</span><b>${inr(healthcare)}</b></div>
    <div class="row"><span>Travel & Transport</span><b>${inr(transport)}</b></div>
    <div class="row"><span>Emergency Fund</span><b>${inr(emergencyFund)}</b></div>
    <div class="row"><span>Entertainment</span><b>${inr(entertainment)}</b></div>
    <div class="row"><span>Savings</span><b>${inr(pureSavings)}</b></div>
  `;

  /* ===== CHART ===== */
  const ctx = document.getElementById("chart").getContext("2d");
  if (chart) chart.destroy();

  chart = new Chart(ctx, {
    type: "doughnut",
    data: {
      labels: ["Needs", "Wants", "Savings"],
      datasets: [{
        data: [needs, wants, savings],
        backgroundColor: ["#700457", "#9d2b82", "#e5e7eb"],
        borderWidth: 0
      }]
    },
    options: {
      responsive: false,
      maintainAspectRatio: false,
      cutout: "72%",
      plugins: { legend: { display: false } }
    }
  });
}
</script>


</body>
</html>
